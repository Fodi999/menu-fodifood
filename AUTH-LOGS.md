# üìù –õ–æ–≥–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üîç –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–≥–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `src/auth.ts`, –≤—ã –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞:

---

## ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—Ö–æ–¥–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

```bash
‚úÖ Successful login: admin@fodisushi.com (admin)
üîë JWT created for: admin@fodisushi.com (role: admin)
üë§ Session loaded for: admin@fodisushi.com (role: admin)
```

**–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω, –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π
2. üîë –°–æ–∑–¥–∞–Ω JWT —Ç–æ–∫–µ–Ω —Å —Ä–æ–ª—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. üë§ –ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å–µ—Å—Å–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## ‚ùå –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞

### 1. –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å

```bash
‚ùå Failed login attempt for: admin@fodisushi.com
```

**–ü—Ä–∏—á–∏–Ω–∞:** Email —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –∏–ª–∏ —Å–±—Ä–æ—Å—å—Ç–µ –µ–≥–æ –≤ –ë–î.

---

### 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
‚ùå User not found: nonexistent@example.com
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ `npx prisma db seed` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
‚ùå Login attempt without credentials
```

**–ü—Ä–∏—á–∏–Ω–∞:** –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –±–µ–∑ email –∏–ª–∏ –ø–∞—Ä–æ–ª—è.

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞.

---

## üîß –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–õ–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev`:

```bash
npm run dev

# –í—ã–≤–æ–¥:
   ‚ñ≤ Next.js 15.5.4 (Turbopack)
   - Local: http://localhost:3000

# –ü–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞:
‚úÖ Successful login: admin@fodisushi.com (admin)
üîë JWT created for: admin@fodisushi.com (role: admin)
```

---

### Production (Vercel)

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ **Vercel Dashboard**:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
2. **Runtime Logs** (–≤–∫–ª–∞–¥–∫–∞)
3. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏–∏: `/api/auth/[...nextauth]`

**–ü—Ä–∏–º–µ—Ä:**

```
[Function: /api/auth/[...nextauth]]
‚úÖ Successful login: admin@fodisushi.com (admin)
üîë JWT created for: admin@fodisushi.com (role: admin)
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª (npm run dev):
‚úÖ Successful login: admin@fodisushi.com (admin)
üîë JWT created for: admin@fodisushi.com (role: admin)
üë§ Session loaded for: admin@fodisushi.com (role: admin)

# –ë—Ä–∞—É–∑–µ—Ä:
–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ /admin
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –í—Ö–æ–¥ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª:
‚úÖ Successful login: user@test.com (user)
üîë JWT created for: user@test.com (role: user)
üë§ Session loaded for: user@test.com (role: user)

# –ë—Ä–∞—É–∑–µ—Ä:
–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ /profile
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª:
‚ùå Failed login attempt for: admin@fodisushi.com

# –ë—Ä–∞—É–∑–µ—Ä:
–û—à–∏–±–∫–∞: Invalid credentials
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª:
‚ùå User not found: wrong@email.com

# –ë—Ä–∞—É–∑–µ—Ä:
–û—à–∏–±–∫–∞: Invalid credentials
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ª–æ–≥–æ–≤

**‚ö†Ô∏è –í–ê–ñ–ù–û –¥–ª—è Production:**

### ‚ùå –ù–ï –ª–æ–≥–∏—Ä—É–π—Ç–µ:
- –ü–∞—Ä–æ–ª–∏ (–¥–∞–∂–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- –ü–æ–ª–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã JWT
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–µ–ª–µ—Ñ–æ–Ω—ã, –∞–¥—Ä–µ—Å–∞)
- IP-–∞–¥—Ä–µ—Å–∞ (–±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è)

### ‚úÖ –ú–æ–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- Email (–¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏)
- –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—Ä–µ–º—è –≤—Ö–æ–¥–∞
- –°—Ç–∞—Ç—É—Å –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)

---

## üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º –≤—Ö–æ–¥–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "Chrome –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ—Å—Å–∏—é"

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**

```bash
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
‚úÖ Successful login: admin@fodisushi.com (admin)
üîë JWT created for: admin@fodisushi.com (role: admin)
üë§ Session loaded for: admin@fodisushi.com (role: admin)

# –ï—Å–ª–∏ –Ω–µ—Ç "Session loaded" - –ø—Ä–æ–±–ª–µ–º–∞ —Å cookies
```

**–†–µ—à–µ–Ω–∏–µ:** –°–º. `FIX-CHROME-LOGIN.md`

---

### –ü—Ä–æ–±–ª–µ–º–∞: "Access Denied –≤ –∞–¥–º–∏–Ω–∫–µ"

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**

```bash
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–æ–ª—å "admin":
üë§ Session loaded for: user@test.com (role: admin)
                                           ^^^^^^

# –ï—Å–ª–∏ role: user - –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω
```

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç–µ —Ä–æ–ª—å –≤ –ë–î —á–µ—Ä–µ–∑ Prisma Studio.

---

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–æ–≥–æ–≤

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏ –≤ –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

### –ü—Ä–∏–º–µ—Ä: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ middleware

```typescript
// src/middleware.ts
export async function middleware(request: NextRequest) {
  const token = await getToken({ req: request });
  
  console.log(`üîê Middleware: ${request.nextUrl.pathname}`);
  console.log(`   User: ${token?.email || 'anonymous'}`);
  console.log(`   Role: ${token?.role || 'none'}`);
  
  // ...existing code...
}
```

### –ü—Ä–∏–º–µ—Ä: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ API routes

```typescript
// src/app/api/products/route.ts
export async function GET() {
  console.log('üì¶ API: GET /api/products');
  
  const products = await prisma.product.findMany();
  
  console.log(`   Found: ${products.length} products`);
  
  return Response.json(products);
}
```

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
npm run dev

# 2. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
open http://localhost:3000

# 3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏
# Email: admin@fodisushi.com
# Password: admin123

# 4. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
# –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
# ‚úÖ Successful login: admin@fodisushi.com (admin)
# üîë JWT created for: admin@fodisushi.com (role: admin)
# üë§ Session loaded for: admin@fodisushi.com (role: admin)
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ Production

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:

- **Vercel Analytics** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **Sentry** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- **LogRocket** - –∑–∞–ø–∏—Å—å —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Datadog** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
npm run dev | grep "Successful login"

# –ü–æ–¥—Å—á–µ—Ç —É—Å–ø–µ—à–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤
npm run dev | grep -c "Successful login"

# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
npm run dev | grep "‚ùå"

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª
npm run dev > logs.txt 2>&1
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏! üéâ
