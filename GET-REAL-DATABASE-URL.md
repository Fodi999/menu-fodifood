# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü–æ–ª—É—á–∏—Ç–µ –†–ï–ê–õ–¨–ù–£–Æ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ Neon

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `–ü–ê–†–û–õ–¨` –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è!

---

## ‚úÖ –ì–î–ï –í–ó–Ø–¢–¨ –ü–†–ê–í–ò–õ–¨–ù–£–Æ –°–¢–†–û–ö–£

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑ Vercel Environment Variables

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [https://vercel.com](https://vercel.com)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç `menu-fodifood`
3. **Settings ‚Üí Environment Variables**
4. –ù–∞–π–¥–∏—Ç–µ `DATABASE_URL` –¥–ª—è **Production**
5. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ **üëÅÔ∏è** (–ø–æ–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ)
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ü–û–õ–ù–û–°–¢–¨–Æ** (–≤–∫–ª—é—á–∞—è –ø–∞—Ä–æ–ª—å!)

–ü—Ä–∏–º–µ—Ä:
```
postgresql://neondb_owner:npg_dz4Gl8ZhPLbX@ep-soft-mud-agon8wu3-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑ Neon Console

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [https://console.neon.tech](https://console.neon.tech)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fodi-sushi`)
3. –í Dashboard –Ω–∞–π–¥–∏—Ç–µ **Connection Details**
4. –í—ã–±–µ—Ä–∏—Ç–µ **"Pooled connection"** (–≤–∞–∂–Ω–æ!)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É **—Ü–µ–ª–∏–∫–æ–º**

–î–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
```
postgresql://neondb_owner:npg_XXXXXXXX@ep-xxx-pooler.eu-central-1.aws.neon.tech/neondb?sslmode=require
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:**
- –í —Å—Ç—Ä–æ–∫–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–Ω–∞—Å—Ç–æ—è—â–∏–π –ø–∞—Ä–æ–ª—å** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `npg_`)
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `-pooler` –≤ —Ö–æ—Å—Ç–µ
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `?sslmode=require` –≤ –∫–æ–Ω—Ü–µ

---

## ‚úÖ –ö–ê–ö –ü–†–ò–ú–ï–ù–ò–¢–¨ –ú–ò–ì–†–ê–¶–ò–ò

### –®–∞–≥ 1: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –†–ï–ê–õ–¨–ù–£–Æ —Å—Ç—Ä–æ–∫—É

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VS Code:

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à—É –†–ï–ê–õ–¨–ù–£–Æ —Å—Ç—Ä–æ–∫—É –∏–∑ Vercel/Neon!
export DATABASE_URL="postgresql://neondb_owner:npg_–ù–ê–°–¢–û–Ø–©–ò–ô_–ü–ê–†–û–õ–¨@ep-xxx-pooler.region.aws.neon.tech/neondb?sslmode=require"
```

**–ü—Ä–∏–º–µ—Ä —Å –†–ï–ê–õ–¨–ù–´–ú –ø–∞—Ä–æ–ª–µ–º:**
```bash
export DATABASE_URL="postgresql://neondb_owner:npg_dz4Gl8ZhPLbX@ep-soft-mud-agon8wu3-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require"
```

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
echo $DATABASE_URL
```

–î–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏—Å—å **–≤–∞—à–∞ —Ä–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞** —Å –ø–∞—Ä–æ–ª–µ–º.

---

### –®–∞–≥ 3: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `psql`:

```bash
psql "$DATABASE_URL"
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è ‚Üí –≤—Å—ë –æ–∫, –∏–¥—ë–º –¥–∞–ª—å—à–µ.
–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

---

### –®–∞–≥ 4: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
npx prisma migrate deploy
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Datasource "db": PostgreSQL database "neondb" at "ep-xxx-pooler.eu-central-1.aws.neon.tech"

Applying migration `20251003085714_init`

‚úî All migrations have been successfully applied.
```

---

### –®–∞–≥ 5: –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ë–î –¥–∞–Ω–Ω—ã–º–∏

```bash
npx prisma db seed
```

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Prisma Studio

```bash
npx prisma studio
```

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
- User: 2 –∑–∞–ø–∏—Å–∏
- Product: 6-10 –∑–∞–ø–∏—Å–µ–π

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–∫–∏

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø —Å—Ç—Ä–æ–∫–∞:

```
postgresql://neondb_owner:npg_dz4Gl8ZhPLbX@ep-soft-mud-agon8wu3-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
```

**–ß–∞—Å—Ç–∏:**
- `neondb_owner` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `npg_dz4Gl8ZhPLbX` - **–†–ï–ê–õ–¨–ù–´–ô –ø–∞—Ä–æ–ª—å** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `npg_`)
- `ep-soft-mud-agon8wu3-pooler` - —Ö–æ—Å—Ç —Å **-pooler** (–≤–∞–∂–Ω–æ!)
- `neondb` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ë–î
- `?sslmode=require` - SSL –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

---

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ï —Å—Ç—Ä–æ–∫–∏:

```bash
# ‚ùå –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª—è
postgresql://neondb_owner:–ü–ê–†–û–õ–¨@...

# ‚ùå –ë–µ–∑ -pooler –≤ —Ö–æ—Å—Ç–µ
postgresql://neondb_owner:pass@ep-soft-mud-agon8wu3.eu-central-1.aws.neon.tech/...

# ‚ùå –ë–µ–∑ sslmode=require
postgresql://neondb_owner:pass@ep-xxx-pooler.region.aws.neon.tech/neondb

# ‚ùå –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î (–Ω–µ Neon!)
postgresql://dmitrijfomin@localhost:5432/fodisushi
```

---

## üÜò Troubleshooting

### ‚ùå –û—à–∏–±–∫–∞: "Can't reach database server"

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä)
2. –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
3. Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç
4. VPN –º–µ—à–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ —Å—Ç—Ä–æ–∫–µ (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `npg_`)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å VPN
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–∑ Vercel/Neon –∑–∞–Ω–æ–≤–æ

---

### ‚ùå –û—à–∏–±–∫–∞: "SSL required"

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤—å—Ç–µ `?sslmode=require` –≤ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏:
```
...neon.tech/neondb?sslmode=require
```

---

### ‚ùå –ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ DATABASE_URL –≤ Vercel

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª **Production** (–Ω–µ Preview!)
2. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é (—Å–º. `.env.example`)
3. –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è ‚Üí **Redeploy**

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] –ü–æ–ª—É—á–µ–Ω–∞ –†–ï–ê–õ–¨–ù–ê–Ø —Å—Ç—Ä–æ–∫–∞ –∏–∑ Vercel –∏–ª–∏ Neon
- [ ] –í —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å **–Ω–∞—Å—Ç–æ—è—â–∏–π –ø–∞—Ä–æ–ª—å** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `npg_`)
- [ ] –í —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å `-pooler` –≤ —Ö–æ—Å—Ç–µ
- [ ] –í —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å `?sslmode=require`
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω `export DATABASE_URL="...–†–ï–ê–õ–¨–ù–ê–Ø –°–¢–†–û–ö–ê..."`
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: `echo $DATABASE_URL` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω `npx prisma migrate deploy` ‚Üí —É—Å–ø–µ—Ö
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω `npx prisma db seed` ‚Üí —É—Å–ø–µ—Ö
- [ ] Prisma Studio –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å Redeploy –Ω–∞ Vercel!** üöÄ
