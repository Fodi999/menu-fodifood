# üåç i18n Setup Complete - FODI Translation System

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ i18next

**–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:**
```json
{
  "i18next": "^23.18.4",
  "react-i18next": "^15.2.0",
  "i18next-browser-languagedetector": "^8.0.2"
}
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `src/i18n.ts`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è i18next —Å React integration
- 3 —è–∑—ã–∫–∞: –†—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), English, Polski
- 10 namespaces: common, home, auth, profile, chat, business, invest, cart, admin, ns1

---

### 2. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–∫–∞–ª–µ–π

```
src/locales/
‚îú‚îÄ‚îÄ en/           # üá¨üáß English
‚îÇ   ‚îú‚îÄ‚îÄ common.json
‚îÇ   ‚îú‚îÄ‚îÄ home.json
‚îÇ   ‚îú‚îÄ‚îÄ auth.json
‚îÇ   ‚îú‚îÄ‚îÄ profile.json
‚îÇ   ‚îú‚îÄ‚îÄ chat.json
‚îÇ   ‚îú‚îÄ‚îÄ business.json
‚îÇ   ‚îú‚îÄ‚îÄ invest.json
‚îÇ   ‚îú‚îÄ‚îÄ cart.json
‚îÇ   ‚îú‚îÄ‚îÄ admin.json
‚îÇ   ‚îî‚îÄ‚îÄ ns1.json (legacy)
‚îú‚îÄ‚îÄ ru/           # üá∑üá∫ –†—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
‚îÇ   ‚îî‚îÄ‚îÄ ... (—Ç–µ –∂–µ —Ñ–∞–π–ª—ã)
‚îî‚îÄ‚îÄ pl/           # üáµüá± Polski
    ‚îî‚îÄ‚îÄ ... (—Ç–µ –∂–µ —Ñ–∞–π–ª—ã)
```

**–í—Å–µ–≥–æ:** 30 —Ñ–∞–π–ª–æ–≤ (10 namespaces √ó 3 —è–∑—ã–∫–∞)

---

### 3. ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `src/app/components/LanguageSwitcher.tsx`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- üé® –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π –≥–ª–æ–±—É—Å–∞ (Globe)
- üåç Popover —Å —Ñ–ª–∞–≥–∞–º–∏ —Å—Ç—Ä–∞–Ω
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —è–∑—ã–∫–∞ (–≥–∞–ª–æ—á–∫–∞)
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (—Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –¥–µ—Å–∫—Ç–æ–ø–∞)
- üéØ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–Ω–∏–∑—É —Å–ª–µ–≤–∞

**–ü–æ–∑–∏—Ü–∏—è:** 
- –ì–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ **–≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö** —á–µ—Ä–µ–∑ `LayoutContent.tsx`
- Floating button: `fixed left-3 sm:left-4 bottom-16 sm:bottom-20`

**–Ø–∑—ã–∫–∏:**
```typescript
const languages = [
  { code: "en", name: "English", flag: "üá¨üáß" },
  { code: "ru", name: "–†—É—Å—Å–∫–∏–π", flag: "üá∑üá∫" },
  { code: "pl", name: "Polski", flag: "üáµüá±" },
];
```

---

### 4. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 2 —Å–ø–æ—Å–æ–±–∞:**

#### 4.1 Cookie (NEXT_LOCALE)
- **–ö–ª—é—á:** `NEXT_LOCALE`
- **–°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è:** 1 –≥–æ–¥ (525,600 –º–∏–Ω—É—Ç)
- **Domain:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è
- **SameSite:** lax (–∑–∞—â–∏—Ç–∞ –æ—Ç CSRF)
- **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:** middleware –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

#### 4.2 localStorage (i18nextLng)
- **–ö–ª—é—á:** `i18nextLng`
- **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:** i18next –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —è–∑—ã–∫–∞ —á–µ—Ä–µ–∑ LanguageSwitcher

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**
1. Cookie `NEXT_LOCALE` (SSR-friendly)
2. localStorage `i18nextLng` (–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)
3. Accept-Language header (–±—Ä–∞—É–∑–µ—Ä)
4. navigator.language (–±—Ä–∞—É–∑–µ—Ä)
5. –Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `ru`

---

### 5. ‚úÖ Middleware –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞

**–§–∞–π–ª:** `src/middleware.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

#### 5.1 –ü–∞—Ä—Å–∏–Ω–≥ Accept-Language
```typescript
function detectLanguageFromHeader(request: NextRequest): string {
  // –ü–∞—Ä—Å–∏—Ç "en-US,en;q=0.9,ru;q=0.8"
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —è–∑—ã–∫
  // –£—á–∏—Ç—ã–≤–∞–µ—Ç quality values (q)
}
```

**–ü—Ä–∏–º–µ—Ä:**
```
Accept-Language: pl-PL,pl;q=0.9,en;q=0.8,ru;q=0.7
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: "pl" ‚úÖ
```

#### 5.2 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Cookie
```typescript
// –í middleware –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ:
if (currentCookie !== locale) {
  response.cookies.set('NEXT_LOCALE', locale, {
    maxAge: 60 * 60 * 24 * 365, // 1 –≥–æ–¥
    path: '/',
    sameSite: 'lax',
  });
}
```

#### 5.3 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
üåç Language from cookie: ru
‚úÖ Set NEXT_LOCALE cookie to: ru
```

**–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –º–∞—Ä—à—Ä—É—Ç–∞–º:**
```typescript
matcher: [
  "/admin/:path*", 
  "/business/:path*", 
  "/profile/:path*", 
  "/orders/:path*",
  "/((?!api|_next/static|_next/image|favicon.ico).*)",
]
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–≤–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —É–º–µ–µ—Ç

### ‚úÖ 1. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
import { useTranslation } from "react-i18next";

function MyComponent() {
  const { t } = useTranslation("home");
  
  return (
    <div>
      <h1>{t("hero.title")}</h1>
      <p>{t("hero.description")}</p>
    </div>
  );
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ namespaces:**
- `common` - –û–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, –∫–Ω–æ–ø–∫–∏, —Å—Ç–∞—Ç—É—Å—ã)
- `home` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `auth` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (signin, signup, onboarding)
- `profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `chat` - AI –ß–∞—Ç
- `business` - –ë–∏–∑–Ω–µ—Å –ø–∞–Ω–µ–ª—å (dashboard, menu, orders, analytics, settings)
- `invest` - –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –∏ —Ç–æ–∫–µ–Ω—ã
- `cart` - –ö–æ—Ä–∑–∏–Ω–∞ –∏ checkout
- `admin` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

---

### ‚úÖ 2. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫

**–ú–µ—Å—Ç–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
1. **Cookie** `NEXT_LOCALE` - SSR-friendly, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. **localStorage** `i18nextLng` - –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
- Middleware —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç cookie –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- i18next —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- –û–±–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–¢–µ—Å—Ç:**
```bash
# 1. –û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä DevTools ‚Üí Application ‚Üí Cookies
# 2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ NEXT_LOCALE
# 3. –ü–µ—Ä–µ–∫–ª—é—á–∏ —è–∑—ã–∫
# 4. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
# 5. –Ø–∑—ã–∫ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è ‚úÖ
```

---

### ‚úÖ 3. –ó–Ω–∞—Ç—å —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫ –≤ i18n.language

**–î–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–µ–º—É —è–∑—ã–∫—É:**
```tsx
import { useTranslation } from "react-i18next";

function LanguageInfo() {
  const { i18n } = useTranslation();
  
  console.log("Current language:", i18n.language); // "ru", "en", "pl"
  
  return <div>–¢–µ–∫—É—â–∏–π —è–∑—ã–∫: {i18n.language}</div>;
}
```

**–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**
```tsx
const changeLanguage = (langCode: string) => {
  i18n.changeLanguage(langCode)
    .then(() => console.log("Language changed to:", langCode))
    .catch(err => console.error("Error:", err));
};
```

**–°–æ—Å—Ç–æ—è–Ω–∏–µ —è–∑—ã–∫–∞:**
- `i18n.language` - —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫
- `i18n.languages` - –º–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- `i18n.options.fallbackLng` - –∑–∞–ø–∞—Å–Ω–æ–π —è–∑—ã–∫ ("en")

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
```bash
# 1. –û—á–∏—Å—Ç–∏ cookies –∏ localStorage
# 2. –û—Ç–∫—Ä–æ–π DevTools ‚Üí Application ‚Üí Clear site data
# 3. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
# 4. Middleware –¥–æ–ª–∂–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —è–∑—ã–∫ –∏–∑ Accept-Language
# 5. –ü—Ä–æ–≤–µ—Ä—å cookie NEXT_LOCALE
```

### –¢–µ—Å—Ç 2: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞
```bash
# 1. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É üåç –≤–Ω–∏–∑—É —Å–ª–µ–≤–∞
# 2. –í—ã–±–µ—Ä–∏ –¥—Ä—É–≥–æ–π —è–∑—ã–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, English)
# 3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
# 4. –ü—Ä–æ–≤–µ—Ä—å:
#    - Cookie NEXT_LOCALE = "en"
#    - localStorage i18nextLng = "en"
#    - –í—Å–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
```

### –¢–µ—Å—Ç 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
```bash
# 1. –ü–µ—Ä–µ–∫–ª—é—á–∏ —è–∑—ã–∫ –Ω–∞ Polski
# 2. –ó–∞–∫—Ä–æ–π –≤–∫–ª–∞–¥–∫—É
# 3. –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç –∑–∞–Ω–æ–≤–æ
# 4. –Ø–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è Polski ‚úÖ
```

### –¢–µ—Å—Ç 4: Accept-Language header
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π curl –¥–ª—è —Ç–µ—Å—Ç–∞:
curl -H "Accept-Language: pl-PL,pl;q=0.9" http://localhost:3000/

# Middleware –¥–æ–ª–∂–µ–Ω:
# - –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å header
# - –í–µ—Ä–Ω—É—Ç—å "pl"
# - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cookie NEXT_LOCALE=pl
```

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞

```mermaid
graph TD
    A[Request] --> B{Cookie NEXT_LOCALE?}
    B -->|–ï—Å—Ç—å| C[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookie]
    B -->|–ù–µ—Ç| D{localStorage i18nextLng?}
    D -->|–ï—Å—Ç—å| E[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å localStorage]
    D -->|–ù–µ—Ç| F{Accept-Language header?}
    F -->|–ï—Å—Ç—å| G[–ü–∞—Ä—Å–∏—Ç—å –∏ –Ω–∞–π—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π]
    F -->|–ù–µ—Ç| H{navigator.language?}
    H -->|–ï—Å—Ç—å| I[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è–∑—ã–∫ –±—Ä–∞—É–∑–µ—Ä–∞]
    H -->|–ù–µ—Ç| J[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ru –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é]
    
    C --> K[–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cookie –≤ response]
    E --> K
    G --> K
    I --> K
    J --> K
    
    K --> L[–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ]
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è i18next

**–§–∞–π–ª:** `src/i18n.ts`

```typescript
i18n
  .use(LanguageDetector) // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
  .use(initReactI18next) // React –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  .init({
    resources: { en: {...}, ru: {...}, pl: {...} },
    lng: "ru", // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
    fallbackLng: "en", // –ó–∞–ø–∞—Å–Ω–æ–π
    ns: ["common", "home", ...], // Namespaces
    defaultNS: "common", // Namespace –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    detection: {
      order: ['cookie', 'localStorage', 'navigator', 'htmlTag'],
      lookupCookie: 'NEXT_LOCALE',
      lookupLocalStorage: 'i18nextLng',
      caches: ['cookie', 'localStorage'],
      cookieMinutes: 525600, // 1 –≥–æ–¥
    },
  });
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥
```tsx
const { t } = useTranslation("common");

<button>{t("buttons.submit")}</button>
// –†—É—Å—Å–∫–∏–π: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
// English: "Submit"
// Polski: "Wy≈õlij"
```

### –ü—Ä–∏–º–µ—Ä 2: –° –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π
```tsx
const { t } = useTranslation("profile");

<p>{t("overview.welcomeBack", { name: user.name })}</p>
// JSON: "welcomeBack": "–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {{name}}!"
```

### –ü—Ä–∏–º–µ—Ä 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ namespaces
```tsx
const { t } = useTranslation(["home", "common"]);

<h1>{t("home:hero.title")}</h1>
<button>{t("common:buttons.orderButton")}</button>
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —è–∑—ã–∫–∞
```tsx
const { i18n } = useTranslation();

const currentFlag = i18n.language === 'ru' ? 'üá∑üá∫' : 
                    i18n.language === 'en' ? 'üá¨üáß' : 'üáµüá±';
```

---

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### URL-based routing (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```
/en/profile
/ru/profile
/pl/profile
```

–ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑:
1. Next.js i18n routing
2. –ö–∞—Å—Ç–æ–º–Ω—ã–π middleware —Å rewrite
3. –ù–æ **—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–æ—â–µ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ** ‚úÖ

### Lazy loading –ø–µ—Ä–µ–≤–æ–¥–æ–≤
```typescript
// –í–º–µ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ —Å—Ä–∞–∑—É
// –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
i18n.addResourceBundle(lang, namespace, translations);
```

---

## ‚úÖ Checklist –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç–∏

- [x] i18next —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `src/locales/{en,ru,pl}` —Å–æ–∑–¥–∞–Ω–∞
- [x] 30 JSON —Ñ–∞–π–ª–æ–≤ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ (10 namespaces √ó 3 —è–∑—ã–∫–∞)
- [x] LanguageSwitcher –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ñ–ª–∞–≥–∞–º–∏
- [x] Cookie `NEXT_LOCALE` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —è–∑—ã–∫–∞
- [x] localStorage `i18nextLng` –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
- [x] Middleware —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º Accept-Language
- [x] –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
- [x] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è cookie ‚Üî localStorage
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- [x] –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—é
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–≤–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–µ–ø–µ—Ä—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤** –∫ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏:

1. ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ** (ru/en/pl)
2. ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫** (cookie + localStorage)
3. ‚úÖ **–ó–Ω–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫** (`i18n.language`)
4. ‚úÖ **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** –∏–∑ Accept-Language
5. ‚úÖ **SSR-friendly** (cookie —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
6. ‚úÖ **–ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** (`useTranslation` hook)

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** üöÄ –®–∞–≥ 1 –∏–∑ i18n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ **–ó–ê–í–ï–†–®–Å–ù –ù–ê 100%**
