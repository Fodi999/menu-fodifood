# üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–ø–∞–¥–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å, –∞ —Å–Ω–æ–≤–∞ –≤–∏–¥–µ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞.

## üîç –ü—Ä–∏—á–∏–Ω–∞

1. **–ù–µ –±—ã–ª–æ –∑–∞–¥–µ—Ä–∂–∫–∏** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ NextAuth
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `router.push()`** –≤–º–µ—Å—Ç–æ `window.location.href`
3. **–ù–µ –±—ã–ª–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞** —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
```typescript
// –î–∞—ë–º –≤—Ä–µ–º—è NextAuth —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Å—Å–∏—é
await new Promise(resolve => setTimeout(resolve, 500));

// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ø—Ä–æ—Ñ–∏–ª—å
window.location.href = "/profile";
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `window.location.href`
–í–º–µ—Å—Ç–æ `router.push()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç —á–µ—Ä–µ–∑ `window.location.href`, —á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∑–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å–µ—Å—Å–∏–µ–π.

### 3. –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Å–ø–µ—Ö–∞
```typescript
setSuccess("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ö–æ–¥...");
```

### 4. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
if (result?.error) {
  console.error("‚ùå Auto-login failed:", result.error);
  setError("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, –Ω–æ –Ω–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ö–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –≤—Ä—É—á–Ω—É—é.");
  setLoading(false);
}
```

## üéØ –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏**
   ```
   –ò–º—è: –ò–≤–∞–Ω
   Email: ivan@test.com
   –ü–∞—Ä–æ–ª—å: password123
   ```

2. **–°–æ–∑–¥–∞—ë—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç –≤ –ë–î** (`/api/auth/register`)
   ```typescript
   User {
     email: "ivan@test.com",
     password: "$2a$10$...", // —Ö–µ—à
     name: "–ò–≤–∞–Ω",
     role: "user"
   }
   ```

3. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ö–æ–¥..."**

4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ NextAuth**
   ```typescript
   await signIn("credentials", {
     email: formData.email,
     password: formData.password,
     redirect: false,
   });
   ```

5. **–ó–∞–¥–µ—Ä–∂–∫–∞ 500ms** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

6. **–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/profile`** —á–µ—Ä–µ–∑ `window.location.href`

7. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å!** üéâ

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/app/auth/signup/page.tsx`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –õ–æ–∫–∞–ª—å–Ω–æ
npm run dev

# 2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/auth/signup

# 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –Ω–æ–≤—ã–º email

# 4. –î–æ–ª–∂–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞—Å—Ç—å –≤ /profile
```

## üöÄ –î–µ–ø–ª–æ–π

```bash
git add .
git commit -m "fix: auto-login after registration with session delay"
git push
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤—Ö–æ–¥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π:**

| –î–µ–π—Å—Ç–≤–∏–µ | –ú–µ—Ç–æ–¥ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ | –ü—Ä–∏—á–∏–Ω–∞ |
|----------|----------------|---------|
| **–í—Ö–æ–¥** | `signIn(..., { redirect: true })` | NextAuth —Å–∞–º –¥–µ–ª–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç |
| **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** | `window.location.href` | –ù—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑ —Å –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–µ–π |

---

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** ‚úÖ
