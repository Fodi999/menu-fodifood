# üéØ –°–≤–æ–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã - Role Switcher & Multi-Tenant Features

**–î–∞—Ç–∞:** 16 –æ–∫—Ç—è–±—Ä—è 2025 –≥.

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **RoleSwitcher Component** - 100% ‚úÖ
**–§–∞–π–ª:** `src/app/components/RoleSwitcher.tsx`

- ‚úÖ –ü—Ä–µ–º–∏—É–º UI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏:
  - üë§ USER - —Å–∏–Ω—è—è —Ç–µ–º–∞
  - üíº BUSINESS_OWNER - –æ—Ä–∞–Ω–∂–µ–≤–∞—è —Ç–µ–º–∞  
  - üí∞ INVESTOR - –∑–µ–ª—ë–Ω–∞—è —Ç–µ–º–∞
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –∏–∑ lucide-react
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –∫–æ–ª—å—Ü–æ–º –∏ –≥–∞–ª–æ—á–∫–æ–π
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤:
  - USER ‚Üí `/`
  - BUSINESS_OWNER ‚Üí `/auth/onboarding`
  - INVESTOR ‚Üí `/invest`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `/profile`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `canSwitchRole` - —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### 2. **Onboarding Flow** - 100% ‚úÖ
**–§–∞–π–ª:** `src/app/auth/onboarding/page.tsx`

- ‚úÖ 4-—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å–∞:
  1. **–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –≥–æ—Ä–æ–¥
  2. **–û–ø–∏—Å–∞–Ω–∏–µ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è** - –¥–µ—Ç–∞–ª–∏ –±–∏–∑–Ω–µ—Å–∞
  3. **–ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã** - –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –∏ –æ–±–ª–æ–∂–∫–∏
  4. **–û–ø–ª–∞—Ç–∞** - Stripe checkout ($19)
- ‚úÖ Progress indicator —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º
- ‚úÖ –ü—Ä–µ–º–∏—É–º UI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- ‚úÖ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
  - `businessesApi.create()`
  - Stripe checkout
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –Ω–∞ BUSINESS_OWNER
  - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/admin`

### 3. **Investor Portal** - 100% ‚úÖ
**–§–∞–π–ª:** `src/app/invest/page.tsx`

- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/invest` —Å:
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∑–µ–ª—ë–Ω—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
  - 3 —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–ø–æ—Ä—Ç—Ñ–µ–ª—å, ROI, –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏)
  - –°–µ—Ç–∫–∞ –±–∏–∑–Ω–µ—Å–æ–≤ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –±–∏–∑–Ω–µ—Å–æ–≤ –≤–∫–ª—é—á–∞—é—Ç:
  - –†–µ–π—Ç–∏–Ω–≥ —Å–æ –∑–≤—ë–∑–¥–∞–º–∏
  - –ù–∞–∑–≤–∞–Ω–∏–µ, –≥–æ—Ä–æ–¥, –∫–∞—Ç–µ–≥–æ—Ä–∏—è
  - –¶–µ–Ω—É —Ç–æ–∫–µ–Ω–∞
  - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (–ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä)
  - ROI –º–µ—Ç—Ä–∏–∫–∏
  - –í—ã—Ä—É—á–∫—É
  - –ö–Ω–æ–ø–∫—É "–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å"
- ‚úÖ –ò–Ω—Ñ–æ-—Å–µ–∫—Ü–∏—è "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç" (3 —à–∞–≥–∞)
- ‚úÖ Mock –¥–∞–Ω–Ω—ã–µ (3 –±–∏–∑–Ω–µ—Å–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ Hover —ç—Ñ—Ñ–µ–∫—Ç—ã —Å –∑–µ–ª—ë–Ω—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º

### 4. **RoleContext Updates** - 100% ‚úÖ
**–§–∞–π–ª:** `src/contexts/RoleContext.tsx`

- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `canSwitchRole`:
  - –ë—ã–ª–æ: —Ç–æ–ª—å–∫–æ –¥–ª—è BUSINESS_OWNER
  - –°—Ç–∞–ª–æ: –¥–ª—è –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ä–æ–ª–∏ –≤ localStorage
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ

### 5. **Documentation** - 100% ‚úÖ
**–§–∞–π–ª:** `FRONTEND-PLAN.md`

- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- ‚úÖ –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: **45% ‚Üí 75%**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- ‚úÖ –ü—Ä–µ–º–∏—É–º –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
  - –°–∏–Ω–∏–π (#3b82f6) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  - –û—Ä–∞–Ω–∂–µ–≤—ã–π (#f97316) - –±–∏–∑–Ω–µ—Å-–≤–ª–∞–¥–µ–ª—å—Ü—ã
  - –ó–µ–ª—ë–Ω—ã–π (#22c55e) - –∏–Ω–≤–µ—Å—Ç–æ—Ä—ã
- ‚úÖ Hover —ç—Ñ—Ñ–µ–∫—Ç—ã —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ —Ç–µ–Ω—è–º–∏
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –∏ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ Progress indicators
- ‚úÖ Responsive design (mobile-first)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
```
src/app/auth/onboarding/page.tsx  (370 —Å—Ç—Ä–æ–∫)
src/app/invest/page.tsx            (350 —Å—Ç—Ä–æ–∫)
src/app/components/RoleSwitcher.tsx (–æ–±–Ω–æ–≤–ª—ë–Ω, 138 —Å—Ç—Ä–æ–∫)
src/contexts/RoleContext.tsx       (–æ–±–Ω–æ–≤–ª—ë–Ω)
FRONTEND-PLAN.md                   (–æ–±–Ω–æ–≤–ª—ë–Ω)
SESSION-SUMMARY.md                 (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- shadcn/ui: Card, Button, Input, Label, Badge, Textarea
- lucide-react: User, Briefcase, TrendingUp, Store, MapPin, CheckCircle2, etc.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- useAuth - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- useRole - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏
- useRouter - –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- useState, useEffect - –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ (—Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **Stripe Integration**
   - –°–æ–∑–¥–∞—Ç—å endpoints –≤ Rust API
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å Stripe checkout
   - Webhook –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã

2. **Business Creation Flow**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `businessesApi.create()`
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ª–æ–≥–æ—Ç–∏–ø, –æ–±–ª–æ–∂–∫–∞)
   - –†–µ–¥–∏—Ä–µ–∫—Ç –≤ /admin –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

3. **Header Improvements**
   - –ö–Ω–æ–ø–∫–∞ "–ü–æ—Ä—Ç—Ñ–µ–ª—å" –¥–ª—è INVESTOR —Ä–æ–ª–∏
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–æ–ª–∏
   - –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
4. **Investor API Integration**
   - `GET /api/v1/investments/opportunities`
   - `GET /api/v1/investments/portfolio`
   - `POST /api/v1/investments/purchase`

5. **Admin Dashboard Check**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –±–∏–∑–Ω–µ—Å–∞
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ onboarding –µ—Å–ª–∏ –Ω–µ—Ç –±–∏–∑–Ω–µ—Å–∞

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
6. UI Polish (skeleton loaders, animations)
7. Error boundaries
8. Testing

## üìä –ú–µ—Ç—Ä–∏–∫–∏

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ/–∏–∑–º–µ–Ω–µ–Ω–æ:** 6
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~1200+
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 3 (RoleSwitcher, Onboarding, InvestPage)
- **–ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞:** 45% ‚Üí 75% (+30%)
- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~2 —á–∞—Å–∞

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–æ–ª–µ–π
2. ‚úÖ –ì–æ—Ç–æ–≤—ã–π UI –¥–ª—è onboarding –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –±–∏–∑–Ω–µ—Å–∞
3. ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Investor Portal
4. ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –ø—Ä–µ–º–∏—É–º –¥–∏–∑–∞–π–Ω
5. ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ  
**Dev Server:** üü¢ –ó–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:3000  
**–û—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:** 0  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:** ‚úÖ –î–∞
